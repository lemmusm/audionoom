{"ast":null,"code":"import _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/media/betty/740eb11b-c677-43cf-84f1-0453faa34e51/betty/ESTUDIOS/REACT/NEXT-JS/audionoom/pages/channel.js\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport 'isomorphic-fetch';\nimport Link from 'next/link';\nimport css from './styles.scss';\nimport Layout from '../components/Layout';\nimport Podcasts from '../components/Podcasts';\nimport PodcastsPlayer from '../components/PodcastPlayer';\nimport Error from './_error';\n\nclass channel extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"openPodcast\", (e, podcast) => {\n      e.preventDefault();\n      this.setState({\n        openPodcast: podcast\n      });\n    });\n\n    _defineProperty(this, \"onClosePodcast\", e => {\n      e.preventDefault();\n      this.setState({\n        openPodcast: null\n      });\n    });\n\n    this.state = {\n      openPodcast: null\n    };\n  }\n\n  static async getInitialProps({\n    query,\n    res\n  }) {\n    let idChannel = query.id;\n\n    try {\n      let [reqChannel, reqSeries, reqAudios] = await _Promise.all([fetch(`https://api.audioboom.com/channels/${idChannel}`), fetch(`https://api.audioboom.com/channels/${idChannel}/child_channels`), fetch(`https://api.audioboom.com/channels/${idChannel}/audio_clips`)]);\n\n      if (reqChannel.status >= 400) {\n        res.statusCode = reqChannel.status;\n        return {\n          channel: null,\n          audio_clips: null,\n          series: null,\n          statusCode: reqChannel.status\n        };\n      }\n\n      let dataChannel = await reqChannel.json();\n      let channel = dataChannel.body.channel;\n      let dataAudios = await reqAudios.json();\n      let audios = dataAudios.body.audio_clips;\n      let dataSeries = await reqSeries.json();\n      let series = dataSeries.body.channels;\n      return {\n        channel,\n        audios,\n        series,\n        statusCode\n      };\n    } catch (e) {\n      return {\n        channel: null,\n        audioClips: null,\n        series: null,\n        statusCode: 503\n      };\n    }\n  }\n\n  render() {\n    const {\n      channel,\n      audioClips,\n      series,\n      statusCode\n    } = this.props;\n    const openPodcast = this.state;\n\n    if (statusCode !== 200) {\n      return __jsx(Error, {\n        statusCode: statusCode,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      });\n    }\n\n    return __jsx(Layout, {\n      title: channel.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, __jsx(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, channel.title)));\n  }\n\n}\n\nexport default channel;","map":{"version":3,"sources":["/media/betty/740eb11b-c677-43cf-84f1-0453faa34e51/betty/ESTUDIOS/REACT/NEXT-JS/audionoom/pages/channel.js"],"names":["React","Component","Link","css","Layout","Podcasts","PodcastsPlayer","Error","channel","constructor","props","e","podcast","preventDefault","setState","openPodcast","state","getInitialProps","query","res","idChannel","id","reqChannel","reqSeries","reqAudios","all","fetch","status","statusCode","audio_clips","series","dataChannel","json","body","dataAudios","audios","dataSeries","channels","audioClips","render","title"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport 'isomorphic-fetch'\nimport Link from 'next/link'\n\nimport css from './styles.scss'\nimport Layout from '../components/Layout'\nimport Podcasts from '../components/Podcasts'\nimport PodcastsPlayer from '../components/PodcastPlayer'\nimport Error from './_error';\n\nclass channel extends Component {\n  constructor(props){\n    super(props)\n    this.state  = { openPodcast:null}\n  }\n  openPodcast = (e, podcast) => {\n    e.preventDefault();\n    this.setState({\n      openPodcast:podcast\n    })\n  }\n  onClosePodcast = e =>{\n    e.preventDefault();\n    this.setState({\n      openPodcast:null\n    })\n  }\n  static async getInitialProps({query, res}){\n    let idChannel = query.id;\n    try{\n      let [reqChannel, reqSeries, reqAudios] = await Promise.all([\n        fetch(`https://api.audioboom.com/channels/${idChannel}`),\n        fetch(`https://api.audioboom.com/channels/${idChannel}/child_channels`),\n        fetch(`https://api.audioboom.com/channels/${idChannel}/audio_clips`)\n      ])\n      if(reqChannel.status >= 400){\n        res.statusCode = reqChannel.status\n        return{\n          channel:null,\n          audio_clips:null,\n          series:null,\n          statusCode: reqChannel.status\n        }\n      }\n      let dataChannel = await reqChannel.json()\n      let channel = dataChannel.body.channel;\n\n      let dataAudios = await reqAudios.json()\n      let audios = dataAudios.body.audio_clips;\n\n      let dataSeries = await reqSeries.json();\n      let series = dataSeries.body.channels;\n      return{\n        channel,audios,series, statusCode\n      }\n    } catch(e){\n      return { channel: null, audioClips: null, series: null, statusCode: 503 }\n    }\n  }\n  render() {\n    const {channel, audioClips, series, statusCode} = this.props\n\n    const openPodcast = this.state;\n    \n    if(statusCode !==200){\n      return <Error statusCode={statusCode}/>\n    }\n    return (\n      <Layout title={channel.title}>\n         <div>\n           <p>{channel.title}</p>\n         </div>\n      </Layout>\n    )\n  }\n}\nexport default channel"]},"metadata":{},"sourceType":"module"}